{% extends "Accounts/accounts_layout.html" %}

<!--  NAME ON TAB  -->
{% block title %}    Accounts   {% endblock %} 

<!--  NAME ON MENU BAR-->
{% block page %}     Accounts   {% endblock %}

<!--  MENU BAR  -->
{% block menuoptions%}
    <li class="nav-item"><a class="nav-link" href="/main">Home</a></li>
    <li class="nav-item"><a class="nav-link" href="/thisWeek">This Week</a></li>
    <li class="nav-item"><a class="nav-link" href="/kids">Kids</a></li>
    <li class="nav-item"><a class="nav-link" href="/menu">Menu</a></li>
    <li class="nav-item"><a class="nav-link" href="/holidays">Holidays</a></li>
    <li class="nav-item"><a class="nav-link" href="/paperwork">Documents</a></li>
    <li class="nav-item"><a class="nav-link" href="{% url 'logout' %}">Log Out</a></li>
{% endblock %}

{% block subtitle %} {% endblock %} <!-- UNUSED -->

<!-- NAMES ON TABS-->
{% block tab1 %}    Pricing         {% endblock %}
{% block tab2 %}    Income          {% endblock %}
{% block tab3 %}    Expenses        {% endblock %}
{% block tab4 %}    Tax Returns     {% endblock %}


<!-- TITLES ON TAB PAGES-->
{% block tab1title %} Pricing {% endblock %}
{% block tab2title %} Invoices {% endblock %}
{% block tab3title %} Expenses {% endblock %}
{% block tab4title %} Tax Returns {% endblock %}


<!--  MAIN PICTURE ON ACCOUNTS SCREEN-->
{% block mainphoto %}
    <div id="childphoto">
        <!-- <img src="/media/images/accounts image.png" alt="Accounts Photo" height="465 width="700" -->
         {% load static %}
        <img src="{% static 'images/accounts image.png' %}" alt="Accounts Photo" height="465" width="700"
        style="border:2px solid black; margin-left:10%">
    </div>
{% endblock %}

<!--########### TAB 1 ############-->

    {% block mainleft %}
    
        <h4>General Fees </h4>
        <h5 style="color:cadetblue; text-align: center; font-weight: bold; border-top:0px">(daily rate)</h5>
        <div style=" margin-bottom:40px">     <!--background-color: aqua; use to show div area-->
                <br>
                <table class="pricingtable">
                    <tr class="pricingtr">
                        <td style = "font-weight:bold">Full Day :</td>
                        <td style = "color:darkred; font-size: larger;">£{{ prices.0.fullday }}</td>
                    </tr>
                    <tr class="pricingtr">
                        <td style = "font-weight:bold">Part Day (5hrs or less) :</td>
                        <td style = "color:darkred; font-size: larger;">£{{ prices.0.partday }}</td>
                    </tr>
                    <tr class="pricingtr">
                        <td style = "font-weight:bold">Retainer :</td>
                        <td style = "color:darkred; font-size: larger;">Half fee</td>
                    </tr>
                    <tr class="pricingtr">
                        <td style = "font-weight:bold">Late Payment :</td>
                        <td style = "color:darkred; font-size: larger;">£{{ prices.0.latepayment}}</td>
                    </tr>
                    <tr class="pricingtr">
                        <td style = "font-weight:bold">Late Pickup :</td>
                        <td style = "color:darkred; font-size: larger;">£{{ prices.0.latepickup}}</td>
                    </tr>
                </table>

        </div>
            
    {% endblock %}

    {% block mainmiddle %}

    <div style="font-weight: bold; margin-bottom: 5px; padding-bottom:15px">
        
        <h4>  Saturday Creche</h4>
        <h5 style="color:cadetblue; text-align: center; font-weight: bold; border-top:0px">(Little Crafters)</h5>
        <br>  
         <div style = "color:darkred; font-size: larger; font-weight: lighter;">£{{ prices.0.saturdaycare }} per hour</div>
          <div style ="color:gray">(only pay for hours used)</div>
        <br> <br>
        <h4>Evening Childcare</h4>
        <br> 
        <div style = "color:darkred; font-size: larger; font-weight: lighter;"> £{{ prices.0.eveningcare }} per hour</div>
        <br>
    </div>
        
    {% endblock %}

    {% block mainright %}

        <h4>Wedding Childcare</h4>
        <h5 style="color:cadetblue; text-align: center; font-weight: bold; border-top:0px">(Hourly Rate)</h5>
        <br>
        <div style=" margin-bottom:0px; padding-left: 20px;">     <!--background-color: aqua; use to show div area-->
                
                <table class="pricingtable">
                    <tr class="pricingtr">
                        <td style = "font-weight:bold">Wedding Nanny :</td>
                        <td style = "color:darkred; font-size: larger; font-weight: lighter;">£{{ prices.0.weddingnanny }}</td>
                    </tr>
                    <tr class="pricingtr">
                        <td style = "font-weight:bold">Supervised Play Area : </td>
                        <td style = "color:darkred; font-size: larger; font-weight: lighter;">£{{ prices.0.supervised}}</td>
                    </tr>
                    <tr class="pricingtr">
                        <td style = "font-weight:bold">   Non-Supervised :</td>
                        <td style = "color:darkred; font-size: larger;font-weight: lighter;">£{{ prices.0.nonsupervised}}</td>
                    </tr>
                    <tr class="pricingtr">
                        <td style = "font-weight:bold">Cosy Corner :</td>
                        <td style = "color:darkred; font-size: larger; font-weight: lighter;">£{{ prices.0.cosycorner}}</td>
                    </tr>
                    
                </table>

        </div>
        
        

    {% endblock %}

    {% block updatebutton %}

        <div class = "update-details-button">
            <form action="{% url 'changefees' %}" method="post">
                {% csrf_token %}
            
                <input type="submit" class="btn btn-primary" style = "min-width: 200px; min-height: 40px; font-size:20px" value="Update" />
            </form>
            
            <!--<form action="" method="post">
                {% csrf_token %}
                <button class="btn btn-primary" type="submit" name = "submit" value = "Add" style ="margin:20px;">SEND INFORMATION</button>            
                <button class="btn btn-primary" type="submit" name = "update" value = "update" style ="margin:20px;">UPDATE</button>            
            -->
        </div>

    {% endblock %}

<!--########### TAB 2 ############   INVOICES   -->

    <div class="column-center">
    
    {% block tab2content %} 

        <!--
        <form id ="test">
            <h5 style="text-align: center;"> 
                <label class="labels2">Month:</label>
                <select id="month" name="month" onchange="changeInvoiceTable(this)">
                    <option value="thismont" selected>{{ invoices.month }}</option>
                    <option value="nextmonth">February</option>
                </select>
                <label class="labels2">Year:</label>
                <select id="year" name="year">
                    <option value="thisyear" selected>2020</option>
                    <option value="nextyear">2021</option>
                </select>
                <label class="labels2">Name:</label>
                <select id="month" name="month">
                    <option value="thismonth" selected>Sloss</option>
                    <option value="nextmonth">Magowan</option>
                </select>  
            </h5>
        </form>
        -->
        
        <!--
        <form id ="test" action="{% url 'testmonthchange' %}">  <!--  action="{% url 'newInvoice' %}" method="post"   -->
        <!--    
            <h5 style="text-align: center;">
        -->
            <!-- drop downs on top of the invoice screen -->
        <!--
            <label class="labels2">Month:</label>
                <select id="month" name="month" onchange="this.form.submit()"> <!-- onchange="changeInvoiceTable(this)">-->
        <!--    
                    {% for month in months %}       
                        <option value="nextmonth">{{ month }}</option>
                    {% endfor %}
                </select>
                <label class="labels2">Year:</label>
                <select id="year" name="year">
                    {% for year in years %}   
                        <option value="nextyear">{{year}}</option>
                    {% endfor %}
                </select>
                <label class="labels2">Name:</label>
                <select id="parent" name="parents">
                    {% for parent in parents %}   
                        <option value="nextparent">{{parent}}</option>
                    {% endfor %}
                </select>  
            
        
            </h5>
        
        </form>
    -->
        <!-- MAIN TABLE ON INVOICE TAB -->

        <!--<table class="table table-bordered" style="width:100%" margin-left:auto;margin-right:auto;>-->
        <div style="height:280px; overflow-y: auto;">
        <table id="VScrollTable" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%" >   
            <thead>
                <tr >
                    <th scope="col" col-index =1>ID</th>
                    <!--<th scope="col" style="width:50px;">ID</th>-->
                    <!--<th scope="col">Invoice</th>-->
                    <th scope="col" col-index =2>Month
                        <select class="table-filter" onchange="filter_rows('invoicesTable')">
                            <option value="all">All</option>
                        </select>
                    </th>
                    <!--<th scope="col">Year</th>-->
                    <th scope="col" col-index =3>Parent Name
                        <select class="table-filter" onchange="filter_rows('invoicesTable')">
                            <option value="all">All</option>
                        </select>
                    </th>
                    <th scope="col" col-index =4>Amount</th>
                    <th scope="col" col-index =5>Status
                        <select class="table-filter" onchange="filter_rows('invoicesTable')">
                            <option value="all">All</option>
                        </select>
                    </th>         
                </tr>
            </thead>
            
            <tbody>
                {% for invoice in invoices %}
                <tr>
                    <!--<td>{{invoice.id}}</td>-->
                    <td><a href="{% url 'invoiceview' %}?name={{invoice.id}}"> {{ invoice.id }}</a></td>
                    <!--NEED TO CREATE URL, VIEW, TEMPLATE FOR INVOICE VIEW -->
                    <td>{{invoice.month}} {{invoice.year}}</td>
                    <td>{{invoice.parentName}}</td>
                    <td>{{invoice.total}}</td>
                    <td>{{invoice.status}}</td>
                    
                </tr>
                {% endfor %}
                
   
                    


                <!--<tr>
                    <td><strong>TOTAL:</strong></td>
                    <td></td>
                    <td></td>
                    <td>£000.00</td>
                    <td></td>
                </tr>-->
            </tbody>
        </table>
        <!-- <script>getUniqueValuesFromColumn()
        </script> -->
       
         <!--Total at bottom of table-->
        <div id="subtotal" style ="width:auto; text-align: right; padding-right: 80px; padding-top: 5px; color:darkred;"><h6>TOTAL :   {{total}}</h6></div>
       
        <script>
            getUniqueValuesFromColumn(".table-filter","#VScrollTable");
        
        </script>

        </div>

        
        <form action="{% url 'newInvoice' %}" method="post">
            {% csrf_token %}
            <p align ="center">
                <button class="btn btn-primary" type="submit" name = "submit" value = "Update">New Invoice</button> 
            </p>
            <input type="hidden" name = "page" value="CreateInvoiceButton"> 
        </form>
    
    {% endblock %}
  
    </div>
  

    <!--########### TAB 3 ############-->

    {% block tab3content %}

    <form style="text-align: center;" action="{% url 'addPurchase' %}" method="post">
        {% csrf_token %}

        <input type="hidden" name = "task" value="purchases">

    <!--    <label class="labels2" >From:</label>
        <input type="text" style="text-align:center; width:100px;" id="datepicker2" value = "{{today}}">
        
        
          <label class="labels2">To:</label>
          <input type="text" style="text-align:center; width:100px;" id="datepicker3" value = "{{today}}">

          
        
            <label class="labels2" >Cat:</label>
            <select style="text-align:center; width:100px;" id="category" name="category">
                <option value="cat0" selected>Any</option>
                <option value="cat1">Food</option>
                <option value="cat2">Petrol</option>
                <option value="cat2">Oil</option>
              </select>

              <label class="labels2">Name:</label>
            <select style="text-align:center; width:100px;" id="name" name="name">
                <option value="any" selected>Any</option>
                <option value="1819">18/19</option>
                <option value="1920">19/20</option>
                <option value="2021">20/21</option>
              </select><br>
            
            -->
    
<br>
    <!--<table class="table table-bordered" style="width:80%; margin-left:auto; margin-right:auto; Height: 10px; overflow:scroll;">-->

        <div style="height:200px; overflow-y: auto;">
            
         
        <table id="VScrollTable2" class="table table-striped table-bordered table-sm" cellspacing="0"
        width="100%">   

        <thead>
            <tr>
                <th scope="col" col-index =1>Id</th>
                <th scope="col" col-index =2>Month
                    <select class="table-filter2" onchange="filter_rows('purchasesTable')">
                        <option value="all">All</option>
                    </select>
                </th>
                <th scope="col" col-index =3>TaxYear
                    <select class="table-filter2" onchange="filter_rows('purchasesTable')">
                        <option value="all">All</option>
                    </select>
                </th>
                <th scope="col" col-index =4>Category
                    <select class="table-filter2" onchange="filter_rows('purchasesTable')">
                        <option value="all">All</option>
                    </select>
                </th>
                <th scope="col" col-index =5>Name
                    <select class="table-filter2" onchange="filter_rows('purchasesTable')">
                        <option value="all">All</option>
                    </select>
                </th>
                <th scope="col" col-index =6>Amount</th>
            </tr>
        </thead>

        <tbody>
            
                <!--<td id="idcolumn"><strong>Morning</strong></td>-->
                {% for purchase in purchases %}
                <tr>
                    <td>{{ purchase.id}}</td>
                    <td>{{ purchase.month}} {{ purchase.date.year}} </td>
                    <td>{{ purchase.date.year}}</td> 
                    <td>{{ purchase.category}}</td>
                    <td>{{ purchase.name}}</td>
                    <td>{{ purchase.amount}}</td>
                </tr>
                {% endfor %}
            
                <!--<td>1st</td>
                <td>January</td>
                <td>2020</td>
                <td>19/20</td>
                <td>Food</td>
                <td>£75.42</td>
                <td>Asda</td>
                
            </tr>
            <tr>
                <td>10th</td>
                <td>January</td>
                <td>2020</td>
                <td>19/20</td>
                <td>Petrol</td>
                <td>£30</td>
                <td>Texaco Moy</td>
                
            </tr>
            <tr>
                <td>31st</td>
                <td>January</td>
                <td>2020</td>
                <td>19/20</td>
                <td>Oil</td>
                <td>£160</td>
                <td>Kirklands</td>
                
            </tr>-->
            
        </tbody>
    </table>

    <!--Total at bottom of table-->
    <div id="subtotal2" style ="width:auto; text-align: right; padding-right: 80px; padding-top: 5px; color:darkred;"><h6>TOTAL :   {{ptotal}}</h6></div>
       
    <script>
        getUniqueValuesFromColumn(".table-filter2","#VScrollTable2");
    
    </script>

     </div>
    <p align = center>
        <button class="btn btn-primary" type="submit" name = "submit" value = "Update" \
        style ="margin:20px;">Add A Purchase</button> 
    </p>
    
</form>
    {% endblock %}


<!--########### TAB 4 ############-->

<!--online tax return hmrc.gov.uk/online-- research auto fill in web form-->

    {% block tab4left %}

    <h4>Personal Details</h4><br>
    <h6 style="display: inline-block">Name:</h6><span id="h6val">Jane Doe</span><br><br>
    <h6>Address:</h6>
    <div id="h6val">01 temporary road<br>
    Nowhere<br>
    Co Anywhere<br>
    <br><br></div>
    <h6 style="display: inline-block">DOB:</h6>
    <span id="h6val">01/01/80<br><br></span>
    


    {% endblock %}

    {% block tab4middle %}

    <h4>HMRC Details</h4><br>
    <h6>Unique Tax Payer Ref (UTR):</h6> <br><br><br>
    <h6>National Insurance Number:</h6> <br><br><br>
    <h6>Employer Ref:</h6>
    <br><br>

    <a href="/static/documents/sa100-2021.pdf" target="_blank">SA100 Self Assessment Form  2021</a>
    


    {% endblock %}

    {% block tab4right %}
    
    <h4>Local Tax Office</h4><br>

        <h6 style="display: inline-block">Location :</h6> <span id="h6val">Craigavon</span><br><br>
        
        <h6>Address</h6>
        <br>
        <div id="h6val">Tax Office, Craigavon
        Marlborough House, 
        Craigavon, 
        County Armagh,
        BT64 1AH</div>
        <br>
        <h6 style="display: inline-block">Tel:</h6><span id="h6val">0845 900 0404</span>
        <br><br>
        <p align ="center">
            
            <button class="btn btn-primary" type="submit" name = "update" value = "update" style ="margin:20px;">UPDATE</button>
    
            <button class="btn btn-primary" type="submit" name = "getsummary" value = "getsummary" style ="margin:20px;">GET SUMMARY</button>
            
        
        
        </p>
    {% endblock %}

